**一．距离度量：欧氏(P)、曼哈顿(P)、切比雪夫(P)**



1：**欧几里得距离Euclidean Distance**。用于衡量各点间的绝对距离。比如在二维坐标系中点A(x1,y1)，B(x2,y2)，他们的欧几里得距离就是

，用坐标来直观表示吧。推广到n维坐标，A(x1,x2,x3……)，B(y1,y2,y3……)欧几里得距离则是

X、Y必须是同一特征的不同值，如同是身高或同时体重

n=1,直线上两点的距离
n=2,二维坐标系中两点的距离
n=3,三维坐标系中两点的距离

```python
#欧氏距离计算用户相似度
#欧氏距离=sqrt(sum(pow(xs-ys,2)))
#相似度=1/(1+欧氏距离)
defsim_distance(prefs,person1,person2):
si = {}
forit inprefs[person1]:
ifit inprefs[person2]:
si[it] =1
iflen(si) ==0:
return0
pSum =math.sqrt(sum(pow(prefs[person1][it]-prefs[person2][it],2)forit insi))
return1.0/(1+pSum)
```



2：**曼哈顿距离**：Manhattan Distance。这个曼哈顿距离也称作“城市街区距离”.

![img](https://pic1.zhimg.com/80/v2-cb22df2bf0a4e66683b53da58f374ddc_hd.png)



```python
#曼哈顿距离计算用户相似度
#曼哈顿距离=sum|xi-yi|
#相似度=1/1+曼哈顿距离
def sim_manhattan(prefs,person1,person2):
	si = {}
	for it in prefs[person1]:
		ifit inprefs[person2]:
		si[it] =1
		iflen(si) ==0:
			return 0
	pSum =sum(math.fabs(prefs[person1][it]-prefs[person2][it])forit insi)
	return 1.0/(1+pSum)
```

3、切比雪夫距离：Chebyshev Distance

相当于从A(x1, y1)到B(x2, y2)最少要走的步数

![img](https://pic4.zhimg.com/80/v2-57c06f6b245b977892b0b65c4f757be7_hd.png)



```python
#切比雪夫距离计算用户相似度
#切比雪夫距离=max|xi-yi|
#相似度=1.0/(1+切比雪夫距离)
def sim_chebyshev(prefs,person1,person2):
	si = {}
	for it in prefs[person1]:
		if it in prefs[person2]:
			si[it] =1
	if len(si) ==0:
	return 0
	pSum =max(math.fabs(prefs[person1][it]-prefs[person2][it])forit insi)
	return1.0/(1+pSum)
```







